<!DOCTYPE html><html lang="ru"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="description" content="SpiritBase — база знаний по духовному наследию."><title>SpiritBase — Духовная база знаний</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.elfUsALL.js"></script><link rel="stylesheet" href="/_astro/index.CGVC5zg3.css"></head> <body class="min-h-screen flex flex-col transition-colors duration-300"> <!-- ===== HEADER ===== --> <header class="backdrop-blur bg-surface/80 dark:bg-surface/80 border-b border-border dark:border-border-dark sticky top-0 z-50"> <nav class="max-w-5xl mx-auto px-6 py-4 flex justify-between items-center"> <a href="/" class="font-serif text-2xl text-accent hover:opacity-80 transition-opacity">
SpiritBase
</a> <div class="flex items-center gap-4"> <a href="/about" class="inline-block text-sm font-medium px-4 py-2 rounded-lg border border-border bg-(--color-text) text-white hover:opacity-80 transition-opacity">
О проекте
</a> <!-- КНОПКА "СООБЩИТЬ ОБ ОШИБКЕ" — идеальная версия --> <button id="report-error" type="button" class="inline-block text-sm font-medium px-4 py-2 rounded-lg border border-border text-(--color-text) hover:bg-(--color-text)/10 transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent/50">
Сообщить об ошибке
</button> </div> </nav> </header> <!-- ===== MAIN CONTENT ===== --> <main class="grow max-w-5xl mx-auto px-6 py-12">  <section class="text-center mt-8"> <h1 class="text-5xl font-medium">SpiritBase</h1> <p class="text-lg text-text-secondary max-w-4xl mx-auto leading-relaxed mt-1 mb-16">
База знаний, посвящённая духовному наследию доктора богословия Игоря Гриненко.
</p> </section> <link href="/pagefind/pagefind-ui.css" rel="stylesheet"><script src="/pagefind/pagefind-ui.js"></script><div id="search"></div> <script type="module">let e=null;document.addEventListener("astro:page-load",()=>{e&&(e.destroy(),e=null),document.querySelector("#search")&&(e=new PagefindUI({element:"#search",showSubResults:!0}))});</script> <section class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto"> <a href="/revelation" class="rounded-xl p-8 text-center border border-border bg-(--color-surface- dark) dark:bg-(--color-surface-light) transition-all duration-200 hover:shadow-md hover:-translate-y-0.5"> <h3 class="text-xl font-medium mb-2">Читая книгу Откровение</h3> <p class="text-sm text-text-secondary dark:text-text-secondary">Уже доступно</p> </a> <a href="/ourway" class="rounded-xl p-8 text-center border border-border bg-(--color-surface- dark) dark:bg-(--color-surface-light) transition-all duration-200 hover:shadow-md hover:-translate-y-0.5"> <h3 class="text-xl font-medium mb-2">Наш путь в Горы Блаженства</h3> <p class="text-sm text-text-secondary dark:text-text-secondary">Уже доступно</p> </a> <a href="#" class="rounded-xl p-8 text-center border border-border bg-(--color-surface- dark) dark:bg-(--color-surface-light) transition-all duration-200 opacity-40 cursor-not-allowed pointer-events-none"> <h3 class="text-xl font-medium mb-2">Проповеди</h3> <p class="text-sm text-text-secondary dark:text-text-secondary">В разработке</p> </a> <a href="#" class="rounded-xl p-8 text-center border border-border bg-(--color-surface- dark) dark:bg-(--color-surface-light) transition-all duration-200 opacity-40 cursor-not-allowed pointer-events-none"> <h3 class="text-xl font-medium mb-2">Мысли для размышления</h3> <p class="text-sm text-text-secondary dark:text-text-secondary">В разработке</p> </a> </section>  </main> <!-- ===== FOOTER ===== --> <footer class="text-center py-6 text-sm text-text-secondary dark:text-text-secondary">
by ChurchLife Development
</footer> <!-- ===== СКРИПТ: надёжная кнопка без багов ===== --> <script>
      const setupReportButton = () => {
        const btn = document.getElementById("report-error");
        if (!btn) return;

        // Клонируем элемент — сбрасываем все старые обработчики и состояния
        const newBtn = btn.cloneNode(true);
        btn.replaceWith(newBtn);

        // Обработчик клика
        newBtn.addEventListener("click", () => {
          // Сбрасываем визуальное "зажатие" и фокус
          newBtn.blur();
          document.activeElement?.blur();

          // Формируем письмо
          const subject = "Ошибка в SpiritBase";
          const body = `Опишите ошибку ниже:\n\n(Страница: ${window.location.href})`;
          const mailto = `mailto:churchlife.development+spiritbase@gmail.com` +
                        `?subject=${encodeURIComponent(subject)}` +
                        `&body=${encodeURIComponent(body)}`;

          // Открываем в новой вкладке — 100% без залипания
          window.open(mailto, "_blank", "noopener,noreferrer");
        });
      };

      // Выполняем при первой загрузке
      setupReportButton();

      // И при каждой навигации через Astro View Transitions
      document.addEventListener("astro:page-load", setupReportButton);
      document.addEventListener("astro:after-swap", setupReportButton);
    </script> </body> </html>