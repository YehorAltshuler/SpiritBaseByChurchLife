---
// components/ImageCarousel.astro
import { Swiper, SwiperWrapper, SwiperSlide, SwiperButtonPrev, SwiperButtonNext, } from "astro-swiper";
import type { AstroSwiperType } from "astro-swiper";

interface Props {
  images: string[];
  title: string;
}

const { images, title } = Astro.props;

const astroSwiperOptions: AstroSwiperType = {
  options: {
    loop: images.length > 1,
    spaceBetween: 16,
    slidesPerView: 1,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  },
};
---

<div class="my-8 w-full max-w-full overflow-hidden">
  <Swiper {...astroSwiperOptions} class="w-full max-w-full">
    <SwiperWrapper class="w-full max-w-full">
      {images.map((src, index) => (
        <SwiperSlide class="w-full max-w-full">
          <img
            src={src}
            alt={`${title} — изображение ${index + 1}`}
            class="w-full h-auto object-contain rounded-lg"
            loading="lazy"
          />
        </SwiperSlide>
      ))}
    </SwiperWrapper>

    <SwiperButtonPrev class="swiper-button-prev" />
    <SwiperButtonNext class="swiper-button-next" />
  </Swiper>
</div>



<style>
  @reference 'tailwindcss';

  /* === Стрелки: чёрные иконки + белый овал + чёрная обводка === */
  .swiper-button-prev,
  .swiper-button-next {
    @apply w-11 h-11 rounded-full bg-white dark:bg-black border-2 border-solid transition-all duration-200 flex items-center justify-center;
    border-color: var(--color-border);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  }


  html.dark .swiper-button-prev,
  html.dark .swiper-button-next {
    border-color: var(--color-border-dark);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
  }

  .swiper-button-prev:after,
  .swiper-button-next:after {
    @apply text-black dark:text-white text-lg font-bold;
  }

  .swiper-button-prev:hover,
  .swiper-button-next:hover {
    @apply scale-105 opacity-80;
  }
  .swiper {
  width: 100% !important;
  max-width: 100% !important;
    }
.swiper-wrapper {
  width: 100% !important;
}
.swiper-slide {
  width: 100% !important;
  display: flex;
  justify-content: center;
}


</style>